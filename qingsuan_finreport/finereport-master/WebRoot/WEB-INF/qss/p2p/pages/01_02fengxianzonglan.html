<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="shortcut icon" href="${contextPath}/static/img/com/logo.png">
    <link rel="stylesheet" href="${contextPath}/static/asserts/css/normalize.css">
    <link rel="stylesheet" href="${contextPath}/static/css/style.css">
    <link rel="stylesheet" href="${contextPath}/static/css/pageCom.css">
    <style>
        .fl{
            float: left;
        }
        .fr{
            float: right;
        }
        .container {
		    display: block;
		    flex-direction: row;
		}
       .main {
       		height:100%;
        }
        .main > div {
            height: 33.33%;
        }
        .chartBox{
        	display: block;
    		flex-direction: row;
		    margin: 0 .5rem;
        }
        .chartTitle_right img{
            width: 0.8rem;
            height: 0.8rem;
            vertical-align: middle;
            margin-right: 0.5rem;
        }
        .chartTitle_right{
            position: absolute;
            right: 1rem;
        }
        .chartBox > .chartContent{
    	    display: block;
		    flex-direction: row;
            height: calc(100% - 2rem);
        }
        .chartBox > .chartContent > .chartBody{
        	position: relative;
    		height: 100%;
        }
        .dayin h5{
            vertical-align: middle;
            font-size: 0.6rem;
        }
        .chartTitle_right h5{
            display: inline-block;
            vertical-align: middle;
			cursor: pointer;
        }
      	.chartBodyLeft{
      		/*width:7.5rem;*/
      		width:120px;
      		height: 100%;
      	}
		.chartBodyRight{
			width:100%;
			height: 100%;
			/*background: rgba(255,255,255,.05);*/
		    position: absolute;
    		/*margin-left: calc(160px + 7.5rem);*/
    		margin-left: 280px;
		}
        .chartBodyLeftTop{
    		padding: 10px 20px;
    		position: relative;
		    top: 50%;
    		margin-top: -65px;
        }
        .chartBodyLeftTop > img{
        	width:80px;
        	opacity: 0.8;
        	filter:alpha(opacity:80);
    	    display: block;
        }
        .chartBodyLeftTop p{
        	text-align: center;
        	font-size: 0.8rem;
        }
		.rank{
			position: absolute;
		    top: 40px;
		    left: 55px;
		    font-weight: 600;
		}
		.chartBodyLeftTop p img{
			width:0.5rem;
		}
		.chartBodyRightCircle{
			width:160px;
			height: 100%;
			position: relative;
			/*background: rgba(255,255,255,.05);*/
		}
		canvas{
			position: absolute;
			top:50%;
			left: 50%;
			margin-top:-65px;
			margin-left: -65px;
		}
		.chartBodyNumber{
			position: absolute;
			width: 100%;
			height: 100%;
			top:0;
		}
		.chartBodyNumber > p{
			position:absolute;
			top:50%;
		    left: 50%;
		    font-size: 0.8rem;
		    margin-left: -1.5rem;
		    margin-top: 0.5rem;
		}
		.chartBodyNumber > div{
			position: absolute;
		    top: 67%;
		    left: 50%;
	        font-size: 0.8rem;
    		margin-left: -6px;
		}
		.chartBodyRightList{
			width:auto;
			height:100%;
		}
		.chartBodyRightList ul{
			height:130px;
		    position: relative;
		    top: 50%;
		    margin-top: -65px;
		}
		.chartBodyRightList ul li{
			float: left;
			/*height:46%;*/
			border:2px solid #2386C0;
			border-radius: 3px;
		    padding: 3px 15px;
		    margin-left: 2rem;
		    margin-top: 1%;
		}
		.chartBodyRightList ul li h3{
			font-size: 1.4rem;
		}
		.chartBodyRightList ul li div{
			font-size: 0.75rem;			
		}
		.chartBodyRightList ul li div em{
			font-style: normal;
		    margin-right: 0.4rem;
		}
		.liContent{
		    margin-right: 0.8rem;
		}
		.chartBodyRightList ul li div img{
			width:0.5rem;
			vertical-align: middle;
		}
		.colorUp{
			color:#FF4D4F;
		}
		.colorDown{
			color:#73D13D;
		}
		.colorJust{
			color:#00ADEF;
		}
		.colorHigh{
			color:#FF4D4F;
		}
		.colorMiddle{
			color:#FA8C16;
		}
		.colorLow{
			color:#52C41A;
		}
		.chartBodyCharts{
			width:280px;
			height:100%;
			position: relative;
		}
		.chartsAll{
			width:280px;
			height:130px;
			position: absolute;
			top:50%;
			left:50%;
			margin-top:-65px;
			margin-left: -140px;
		}
        /*左侧综合得分部分 end*/
    </style>
</head>
<body id="04_01jingyingnengli" data-title="经营能力" style="overflow-y: auto;">
<div class="container">
    <div class="main">
       
        
       
<!--         <div class="main-third">
            <div class="chartBox ec003">
                <div class="chartTitle">
                    <h3>宜人贷有限公司</h3>
                    <div class="chartTitle_right">
                        <div class="dayin fr">
                            <h5>查看监管报告</h5>
                        </div>
                    </div>
                </div>
                <div class="chartContent">
                    <div class="chartBody">
                        <div class="chartBodyLeft fl">
                        	<div class="chartBodyLeftTop">
                        		<img src="${contextPath}/static/img/low.png" alt=""/>
                        		<span class="rank">3</span>
                        		<p>风险排名</p>
                        		<p><img src="${contextPath}/static/img/just.png" alt="" /><span class="colorJust">0</span></p>
                        	</div>
                        </div>
                    	<div class="chartBodyRightCircle fl">
                    		<canvas id="canvasFourth">当前浏览器不支持canvas 请升级！</canvas>
                    		<div class="chartBodyNumber">
                    			<p>风险指数</p>
                    			<div></div>
                    		</div>
                    	</div>
                        <div class="chartBodyRight fl">
                        	<div class="chartBodyRightList fl">
                        		<ul>
                        			<li>
                        				<h3>8.1</h3>
                        				<div>
                        					<span class="liContent">合规风险</span>
                        					<em>排名：<span>1</span></em>
                        					<img src="${contextPath}/static/img/up.png" alt="" />
                        					<small class="colorUp">1</small>
                        				</div>
                        			</li>
                        			<li>
                        				<h3>5.6</h3>
                        				<div>
                        					<span class="liContent">信用风险</span>
                        					<em>排名：<span>4</span></em>
                        					<img src="${contextPath}/static/img/down.png" alt="" />
                        					<small class="colorDown">1</small>
                        				</div>
                        			</li>
                        			<li>
                        				<h3>9.2</h3>
                        				<div>
                        					<span class="liContent">市场风险</span>
                        					<em>排名：<span>2</span></em>
                        					<img src="${contextPath}/static/img/just.png" alt="" />
                        					<small class="colorJust">0</small>
                        				</div>
                        			</li>
                        			<br>
                        			<li>
                        				<h3>9.1</h3>
                        				<div>
                        					<span class="liContent">资金风险</span>
                        					<em>排名：<span>1</span></em>
                        					<img src="${contextPath}/static/img/up.png" alt="" />
                        					<small class="colorUp">1</small>
                        				</div>
                        			</li>
                        			<li>
                        				<h3>9.2</h3>
                        				<div>
                        					<span class="liContent">声誉风险</span>
                        					<em>排名：<span>1</span></em>
                        					<img src="${contextPath}/static/img/up.png" alt="" />
                        					<small class="colorUp">1</small>
                        				</div>
                        			</li>
                        			<li>
                        				<h3>8.8</h3>
                        				<div>
                        					<span class="liContent">周边风险</span>
                        					<em>排名：<span>1</span></em>
                        					<img src="${contextPath}/static/img/just.png" alt="" />
                        					<small class="colorJust">0</small>
                        				</div>
                        			</li>
                        		</ul>
                        	</div>
                        </div>
                        <div class="chartBodyCharts fr">
                        	<div id="chartsFourth" class="chartsAll"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div> -->
        
    </div>
</div>

<script src="${contextPath}/static/asserts/js/echarts-4.0.js"></script>
<script src="${contextPath}/static/asserts/js/jquery-2.2.4.js"></script>
<script src="${contextPath}/static/js/main.js"></script>
<script src="${contextPath}/static/js/chartsCom.js"></script>
<script type="text/javascript">
	//canvasAll("canvasFirst",8);
	//canvasAll("canvasSecond",5.2);
	//canvasAll("canvasThird",2.0);
	/* canvasAll("canvasFourth",2.0); */
	  getData();
	  function getData(){
		$.post("${contextPath}/qdch/risk/getRiskIndex",function(data){
			
			var htmls="";
			var valu=[];
			console.log("getdata=======================",data);
			$.each(data,function(index,item){
				
			
					htmls+="<div class='main-first'>"
						htmls+="<div class='chartBox ec003'>""
						htmls+="<div class='chartTitle'>"
						htmls+="<h3>"+item.jysinfo+"</h3>""
						htmls+="<div class='chartTitle_right'>"
						htmls+="<div class='dayin fr'>"
						htmls+="<h5>查看监管报告</h5>"
						htmls+="</div>"

						htmls+="</div>"
						htmls+="</div>"
						htmls+="<div class='chartContent'>"
						htmls+="<div class='chartBody'>"
						htmls+="<div class='chartBodyLeft fl'>"
						htmls+="<div class='chartBodyLeftTop'>"
						htmls+="<img src='${contextPath}/static/img/high.png' alt=''/>"
						htmls+="<span class='rank'>"+item.keypm+"</span>"
						htmls+="<p>风险排名</p>"
						htmls+="<p><img src='${contextPath}/static/img/up.png' alt='' /><span class='colorUp'>"+1+"</span></p>"
						htmls+="</div>"
						htmls+="</div>"
						htmls+="<div class='chartBodyRightCircle fl'>"
						htmls+="<canvas id='canvas'"+item.keypm+">当前浏览器不支持canvas 请升级！</canvas>"
						htmls+="<div class='chartBodyNumber'>"
						htmls+="<p>风险指数</p>"
						htmls+="<div></div>"
						htmls+="</div>"
						htmls+="</div>"
						htmls+="<div class='chartBodyRight fl'>"
						htmls+="<div class='chartBodyRightList fl'>"
						htmls+="<ul>"
										$.each(item.detaildata,function(ind,it){
											valu.push(it.detailvalue); 
											htmls+="<li>"+
											htmls+="<h3>"+it.detailvalue+"</h3>\n"
											htmls+="<div>"
											htmls+="<span class='liContent'>"+it.fxlb+"</span>\n"
											htmls+="<em>排名：<span>"+it.detailpm+"</span></em>\n"
											htmls+="<img src='${contextPath}/static/img/up.png' alt='' />\n"
											htmls+="<small class='colorUp'>"+it.detailpm+"</small>\n"
											htmls+="</div>\n"
											htmls+="</li>"
											
										});			
						htmls+="</ul>"
					    htmls+="</div>"
					    htmls+="</div>"
					    htmls+="<div class='chartBodyCharts fr'>"
					    htmls+="<div id='charts'"+item.keypm+" class='chartsAll'></div>"
					    htmls+="</div>"
					    htmls+="</div>"
					    htmls+="</div>"
					    htmls+="</div>"
					    htmls+="</div>"
							});
			$(".main").html(htmls);
			$.each(data,function(index,item){
				charts("#charts"+item.keypm,valu);
				canvasAll("canvas"+item.keypm,item.value); 
			});
			
			
			});		
	}
	 
	
	 
	
	//var val = [4300, 10000, 28000, 35000, 50000, 19000];
	//var _val = [3000,5000,10000,2000,1000,10000];
	//charts("#chartsFirst",val);
	//charts("#chartsSecond",_val);
	//charts("#chartsThird",_val);
	//charts("#chartsFourth",_val);
	
	function charts(id,value){
		var allCharts = [];
        var myChart1 = echarts.init($(id)[0]);
        myChart1.setOption(opt_com);
        myChart1.setOption({
            tooltip: {},
            legend: {
                show:false
            },
            radar: {
                center:['50%','50%'],
                radius:'60%',
                name: {
                    textStyle: {
                        color: '#fff',
                        fontSize:10

                    }
                },
                axisLine: {
                    lineStyle: {
                        color: '#00abde'
                    }
                },
                splitLine: {
                    lineStyle: {
                        color: '#00abde'
                    }
                },
                splitArea: {
                    show: false
                },
                indicator: [
                    { name: '合规风险'},
                    { name: '信用风险'},
                    { name: '资产风险'},
                    { name: '市场风险'},
                    { name: '声誉风险'},
                    { name: '周边风险'}
                ]
            },
            series: [{
                name: '预算 vs 开销（Budget vs spending）',
                type: 'radar',
                areaStyle: {normal: {}},
                data : [
                    {
                         value : value, //[4300, 10000, 28000, 35000, 50000, 19000] 
                       /*  value : [4300, 10000, 28000, 35000, 50000, 19000] */
                        name : '预算分配（Allocated Budget）'
                    }

                ]
            }]
        });
    }
</script>
</body>
</html>

